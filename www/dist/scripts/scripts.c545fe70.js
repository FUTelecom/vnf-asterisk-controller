"use strict";var vacApp=angular.module("vnfAsteriskControllerApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider","$locationProvider",function(a,b){b.hashPrefix(""),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/discovery",{templateUrl:"views/discovery.html",controller:"discoveryController",controllerAs:"discovery"}).otherwise({redirectTo:"/"})}]);vacApp.directive("navbar",function(){return{restrict:"E",scope:{loggedin:"=loggedin"},templateUrl:"views/navbar.html",controller:["$scope","$http","$attrs","$location",function(a,b,c,d){a.messages=[],a.navClass=function(b){var c=d.path().substring(1)||"home";return c!==a.onPage&&(a.onPage=c),b===c?"active":""},a.secondsAgo=function(a){return moment(a).fromNow()}}]}}),vacApp.controller("discoveryController",["$scope","$location","$http","$routeParams","discoveryService",function(a,b,c,d,e){e.discoverAll(function(b,c){b||(a.instances=c)})}]),vacApp.service("discoveryService",["$http",function(a){this.add=function(a){return a+100},this.discover=function(b){a.get(env.api_url+"/discover").then(function(a){b(null,a.data)},function(a){console.log("ERROR: Had trouble with discoverAll from API"),b("Had trouble with discoverAll from API")})};var b=this.discover;this.gettrunk=function(b,c,d){a.get(env.api_url+"/gettrunk/"+b+"/"+c).then(function(a){d(null,a.data)},function(a){console.log("ERROR: Had trouble with gettrunk from API"),d("Had trouble with gettrunk from API")})};var c=this.gettrunk;this.discoverAll=function(a){b(function(b,d){if(b)a(b);else if(d.length){var e=[];d.forEach(function(a){var b=[];a.trunks.length&&a.trunks.forEach(function(d){c(a.uuid,d,function(a,c){!a&&c&&b.push(c)})}),a.trunks=b,e.push(a)}),a(null,e)}else a("discoveryService_error_nodata_discoverall")})}}]),vacApp.controller("MainCtrl",["$scope","$location","$http","$routeParams",function(a,b,c,d){}]),vacApp.controller("AboutCtrl",["$scope","$location","$http","$routeParams",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.foo="bar!!!",console.log("about controller")}]),angular.module("vnfAsteriskControllerApp").run(["$templateCache",function(a){a.put("views/about.html","<p>There's more to be said here about vnf-asterisk. It will be said... in time. {{foo}}</p>"),a.put("views/discovery.html",'<div class="col-sm-12"> <div class="row"> <h3>Discovered Asterisk Instances</h3> </div> <div class="row panel panel-primary" ng-repeat="instance in instances"> <!-- panel --> <div class="panel-heading"> <h3 class="panel-title">{{ instance.nickname ? instance.nickname : instance.uuid }}</h3> </div> <div class="panel-body"> <p>Located @ {{ instance.ip }}</p> <p class="tinytext">Unique ID: {{ instance.uuid }}</p> <span ng-if="instance.trunks.length"> <hr> <p><strong>Trunks</strong></p> <div class="list-group" ng-repeat="trunk in instance.trunks"> <span class="list-group-item"> <h4 class="list-group-item-heading">{{ trunk.name }}</h4> <hr> <div class="container"> <div class="col-sm-4"> <p><strong>Endpoint</strong></p> <p>Context: <code>{{ trunk.endpoint.context }}</code></p> <p>Transport: <code>{{ trunk.endpoint.transport }}</code></p> <p>Allows: <code>{{ trunk.endpoint.allow }}</code></p> <p>Disallows: <code>{{ trunk.endpoint.disallow }}</code></p> <p>aors: <code>{{ trunk.endpoint.aors }}</code></p> </div> <div class="col-sm-8"> <p><strong>Identify</strong></p> <p>Match: <code>{{ trunk.identify.match }}</code></p> <p><strong>AOR</strong></p> <p>Contact: <code>{{ trunk.aor.contact_address }}</code></p> </div> </div> </span> </div> </span> </div> <!-- end panel --> </div> </div>'),a.put("views/main.html",'<div class="jumbotron"> <p class="lead"> <img src="images/vnf-asterisk-logo.7dc23bd3.png" alt="vnf-asterisk"><br> </p> <h3>It\'s a VNF with Asterisk! <p><a class="btn btn-lg btn-success" ng-href="#/discovery">Discovered Instances <i class="fa fa-phone" aria-hidden="true"></i></a></p> </h3></div> <div class="row marketing"> <h4>About</h4> <p> <a href="https://github.com/redhat-nfvpe/vnf-asterisk">vnf-asterisk</a> is a reference virtual network function (VNF) used to explore both telephony in Network Function Virtualization (NFV) and also explore the wider world of containers for NFV. </p> </div>'),a.put("views/navbar.html",'<nav class="navbar navbar-inverse navbar-fixed-top"> <div class="container"> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-custombrand" href="#"><img src="images/mini-wordmark.b213eba0.png"></a> </div> <div id="navbar" class="collapse navbar-collapse"> <ul class="nav navbar-nav"> <li ng-class="navClass(\'home\')"><a ng-href="#/">Home</a></li> <li ng-class="navClass(\'discovery\')"><a ng-href="#/discovery">Discovery</a></li> <li ng-class="navClass(\'about\')"><a ng-href="#/about">About</a></li> </ul> </div><!--/.nav-collapse --> </div> </nav>')}]);